{"version":3,"sources":["components/Mask/index.tsx","components/DragSortCom/index.tsx","page/resume/component/ContentInfo/index.tsx","../node_modules/_@babel_runtime@7.10.2@@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/_@babel_runtime@7.10.2@@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/_@babel_runtime@7.10.2@@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/_@babel_runtime@7.10.2@@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/_@babel_runtime@7.10.2@@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/_@babel_runtime@7.10.2@@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/_@babel_runtime@7.10.2@@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/_@babel_runtime@7.10.2@@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/_@babel_runtime@7.10.2@@babel/runtime/helpers/esm/nonIterableSpread.js","page/resume/common.ts","page/resume/index.tsx","../node_modules/_@babel_runtime@7.10.2@@babel/runtime/helpers/esm/iterableToArray.js"],"names":["Mask","props","visible","onMouseMove","onMouseUp","className","DragSortCom","List","Data","index","setList","lineHeight","children","useState","draging","setDrag","startPageY","setStartPageY","offsetPageY","setOffsetPageY","draggingIndex","setDraggingIndex","move","arr","startIndex","toIndex","console","log","slice","splice","onMouseDown","evt","pageY","handleMouseDown","key","style","transform","getLiStyle","e","offset","length","newList","Index","domRef","useRef","type","content","isEdit","onChange","onBlur","current","value","handleChange","onKeyUp","handleSelectMouseUp","onDrop","onDragOver","preventDefault","ref","minHeight","contentEditable","suppressContentEditableWarning","dangerouslySetInnerHTML","__html","defaultProps","_slicedToArray","i","arrayWithHoles","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","nonIterableRest","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","constructor","name","Array","from","test","_arrayLikeToArray","len","arr2","_arrayWithHoles","isArray","_nonIterableRest","TypeError","_toConsumableArray","arrayLikeToArray","iterableToArray","elementComponent","colorPicker","id","color","btnlayout","MenuItem","Menu","SubMenu","localData","localStorage","getItem","initData","JSON","parse","setContent","activeId","setActiveId","useEffect","setItem","stringify","getSelectionMessage","document","getSelection","anchorNode","selector","extentNode","mode","defaultIndex","title","map","item","onClick","data","anchorEnd","getElementById","scrollIntoView","block","behavior","handleChoose","draggable","onDragStart","onDragEnd","typeId","stopPropagation","filter","idx","handleDelete","icon","size","ContentInfo","valNode","leftVal","innerText","rightVal","innerHTML","handleContent","newCon","concat","handleDrop","visibility","to","btnType","el","_iterableToArray","iter"],"mappings":"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","file":"static/js/resume.41e638dc.chunk.js","sourcesContent":["import React, { FunctionComponent } from \"react\";\n\ninterface Props {\n  visible: boolean;\n  onMouseMove?: (e:  React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n  onMouseUp?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n}\n\nconst Mask: FunctionComponent<Props> = (props) => {\n  const { visible, onMouseMove, onMouseUp } = props;\n  if (!visible) return <></>;\n  return (\n    <div\n      className=\"show_mask\"\n      onMouseMove={onMouseMove}\n      onMouseUp={onMouseUp}\n    />\n  );\n};\n\nexport default Mask;\n","import React, { useState } from \"react\";\nimport Mask from \"../Mask\";\nimport \"./index.css\";\n\ninterface IProps {\n  Data: any[];\n  index: number;\n  lineHeight: number;\n  setList: (list: any[]) => void;\n  onMouseUp?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n}\n\nconst DragSortCom: React.FC<IProps> = (props) => {\n  const { Data: List, index, setList, lineHeight, children,onMouseUp } = props;\n\n  const [draging, setDrag] = useState(false);\n  const [startPageY, setStartPageY] = useState(0);\n  const [offsetPageY, setOffsetPageY] = useState(0);\n  const [draggingIndex, setDraggingIndex] = useState(-1);\n\n  function handleMouseDown(\n    evt: React.MouseEvent<HTMLElement, MouseEvent>,\n    index: number\n  ) {\n    // evt.stopPropagation();// 不能阻止冒泡\n    setDraggingIndex(index);\n    setStartPageY(evt.pageY);\n    setDrag(true);\n  }\n\n  function getLiStyle(index: number) {\n    if (index !== draggingIndex) return {};\n    return {\n      transform: `translate(5px,${offsetPageY}px)`,\n    };\n  }\n\n  function handleMouseMove(e: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    let offset = e.pageY - startPageY;\n    if (offset > lineHeight && draggingIndex < List.length) {\n      offset -= lineHeight;\n      let newList = move(List, draggingIndex, draggingIndex + 1);\n      setList(newList);\n      setDraggingIndex(draggingIndex + 1);\n      setStartPageY(startPageY + lineHeight);\n    } else if (offset < -lineHeight && draggingIndex > 0) {\n      offset += lineHeight;\n      let newList = move(List, draggingIndex - 1, draggingIndex);\n      setList(newList);\n      setDraggingIndex(draggingIndex - 1);\n      setStartPageY(startPageY - lineHeight);\n    }\n    setOffsetPageY(offset);\n  }\n\n  function move(\n    arr: { id: number; title: string; content: string }[],\n    startIndex: number,\n    toIndex: number\n  ) {\n    console.log(arr, startIndex, toIndex);\n    arr = arr.slice();\n    arr.splice(toIndex, 0, arr.splice(startIndex, 1)[0]);\n    return arr;\n  }\n\n  function handleMouseUp(e: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    setDrag(false);\n    setStartPageY(0);\n    setDraggingIndex(-1);\n    onMouseUp&&onMouseUp(e)\n  }\n\n  return (\n    <>\n      <div\n        onMouseDown={(evt) => handleMouseDown(evt, index)}\n        key={index}\n        style={getLiStyle(index)}\n        className={`mask-li-style ${\n          index == draggingIndex ? \" chooseSty\" : \"\"\n        }`}\n      >\n        {children}\n      </div>\n      <Mask\n        visible={draging}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n      />\n    </>\n  );\n};\n\nexport default DragSortCom;\n","import React, { useRef, useEffect } from \"react\";\n\ninterface Props {\n  type?: string;\n  content: any[];\n  isEdit?: boolean;\n  onChange?: (value?: Node, type?: string) => void;\n  handleSelectMouseUp?: (\n    e: React.MouseEvent<HTMLDivElement> | React.KeyboardEvent<HTMLDivElement>\n  ) => void;\n  onDrop?: (e: any) => void;\n}\n\nconst Index: React.FC<Props> = (props) => {\n  const domRef = useRef<HTMLDivElement>(null);\n  const { type, content, isEdit, onChange } = props;\n  const handleChange = (e: React.FormEvent<HTMLDivElement>, type?: string) => {\n    if (domRef && domRef.current) {\n      let value = domRef.current;\n      onChange && onChange(value, type);\n    }\n  };\n  return (\n    <div\n      onBlur={(e) => handleChange(e, type)}\n      className=\"content-info-wrapper\"\n      onKeyUp={(e) => props.handleSelectMouseUp&&props.handleSelectMouseUp(e)}\n      onDrop={(e) => props.onDrop&&props.onDrop(e)}\n      onDragOver={(e) => e.preventDefault()}\n    >\n      {type === \"label-bar\" && (\n        <div\n          className=\"label_wrapper\"\n          ref={domRef}\n          style={{ minHeight: 100 }}\n          contentEditable={isEdit}\n          suppressContentEditableWarning={true}\n          dangerouslySetInnerHTML={{ __html: content[0] }}\n        />\n      )}\n\n      {type === \"one-column\" && (\n        <div\n          className=\"one-wrapper\"\n          ref={domRef}\n          style={{ minHeight: 300 }}\n          contentEditable={isEdit}\n          suppressContentEditableWarning={true}\n          dangerouslySetInnerHTML={{ __html: content[0] }}\n        />\n      )}\n\n      {type === \"two-column\" && (\n        <div className=\"two_wrapper\" style={{ minHeight: 300 }} ref={domRef}>\n          <div\n            className=\"left_wrapper\"\n            contentEditable={isEdit}\n            suppressContentEditableWarning={true}\n            dangerouslySetInnerHTML={{ __html: content[0] }}\n          />\n          <div\n            className=\"right_wrapper\"\n            contentEditable={isEdit}\n            suppressContentEditableWarning={true}\n            dangerouslySetInnerHTML={{ __html: content[1] }}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nIndex.defaultProps = {\n  content: [\"请输入内容\", \"请输入内容\"],\n  isEdit: true,\n};\n\nexport default Index;\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","\nexport const elementComponent = [\n    '<Button contentEditable>Button组件</Button>',\n    '<img width=\"100\" height=\"100\" src=\"https://www.w3school.com.cn/i/eg_dragdrop_w3school.gif\"/>',\n    '<div contentEditable style=\"height:100px;background:#ff0\">我是Div</div>'\n]\n\nexport const colorPicker = [\n    { id: 1, color: '#f00', name: '红色' },\n    { id: 2, color: '#ff0', name: '黄色' },\n    { id: 3, color: '#00f', name: '蓝色' },\n]\n\nexport const btnlayout = [\n    {\n        name: 'label-bar',\n        key: 'label-bar'\n    },{\n        name: '一栏布局',\n        key: 'one-column'\n    },{\n        name: '两栏布局',\n        key: 'two-column'\n    }]","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Bg, Button, Icon } from \"rockui\";\nimport DragSortCom from \"../../components/DragSortCom\";\nimport ContentInfo from \"./component/ContentInfo\";\nimport { Menu } from \"rockui\";\nimport { btnlayout, elementComponent, colorPicker } from \"./common\";\n\nconst { MenuItem, SubMenu } = Menu;\n\ninterface Props {\n  name: string;\n}\nconst Index: React.FC<Props> = (props) => {\n  let localData = localStorage.getItem(\"resume_content\");\n  let initData: any[] = localData ? JSON.parse(localData) : [];\n  const [content, setContent] = useState<any[]>(initData);\n  // 设置组件拖拽\n  const [activeId, setActiveId] = useState<number>(-1);\n  // 获取浏览器存储的数据\n  useEffect(() => {\n    localStorage.setItem(\"resume_content\", JSON.stringify(content));\n  }, [content]);\n\n  // 添加组件\n  const handleChoose = (type?: string) => {\n    let data = { type: type, content: [\"添加内容\"] };\n    setContent([...content, data]);\n    let anchorEnd = document.getElementById(\"anchorEnd\");\n    if (anchorEnd)\n      anchorEnd.scrollIntoView({ block: \"start\", behavior: \"smooth\" });\n  };\n\n  // 选择组件操作\n  const handleContent = (type: string, index: number, valNode?: any) => {\n    if (type === \"two-column\") {\n      let leftVal = valNode.children[0].innerText;\n      let rightVal = valNode.children[1].innerText;\n      content[index].content = [leftVal, rightVal];\n    } else {\n      content[index].content = [valNode.innerHTML];\n    }\n    setContent([...content]);\n  };\n\n  // 删除\n  const handleDelete = (\n    e: React.MouseEvent<SVGSVGElement, MouseEvent>,\n    index: number\n  ) => {\n    e.stopPropagation();\n    setContent([...content.filter((item, idx) => idx !== index)]);\n  };\n\n  // 选择文字鼠标抬起\n  const getSelectionMessage = (\n    e: React.MouseEvent<HTMLDivElement> | React.KeyboardEvent<HTMLDivElement>\n  ) => {\n     if(!document.getSelection()?.anchorNode) return;\n     let selector :any = document.getSelection();\n    //  let beforeNum = selector?.\n       console.log(selector?.extentNode,'anchorNode>>');\n\n  };\n\n  // 设置文字颜色\n  const handleStyle = (key: string, value: string) => {\n    // let oldStr = content[currentIndex].content;\n    // let beforetxt:string = ''\n    // if(oldStr.includes('span')){\n    //   beforetxt = oldStr.split('>').slice(0.-1).join('')\n    // }\n    // let newArr = _.cloneDeep(selectStr)\n  };\n\n  // 组件放置触发的事件\n  const handleDrop = (e: React.DragEvent<HTMLDivElement>, index: number) => {\n    e.preventDefault();\n    let newCon = content[index].content[0].concat(elementComponent[activeId]);\n    content[index].content[0] = newCon;\n    setContent([...content]);\n  };\n\n  return (\n    <div className=\"resume_wrapper\">\n      <div className=\"resume_left_wrapper\">\n        <Menu mode=\"vertical\" defaultIndex={\"0\"}>\n          <SubMenu title=\"选择布局\">\n            {btnlayout.map((item) => (\n              <MenuItem key={item.key}>\n                <Button onClick={() => handleChoose(item.key)}>\n                  {item.name}\n                </Button>\n              </MenuItem>\n            ))}\n          </SubMenu>\n          <SubMenu title=\"拖拽组件\">\n            {elementComponent.map((key, index) => (\n              <MenuItem>\n                <div\n                  dangerouslySetInnerHTML={{ __html: key }}\n                  draggable=\"true\"\n                  onDragStart={() => setActiveId(index)}\n                  onDragEnd={() => setActiveId(-1)}\n                />\n              </MenuItem>\n            ))}\n          </SubMenu>\n        </Menu>\n      </div>\n      <div className=\"resume_right_wrapper\">\n        <div className=\"resume_edit_wrapper\">\n          编辑区\n          {content.map((item, index) => {\n            return (\n              <DragSortCom\n                Data={content}\n                setList={setContent}\n                index={index}\n                lineHeight={200}\n                onMouseUp={(e)=>getSelectionMessage(e)}\n              >\n                <div key={item.typeId}>\n                  <Icon\n                    onMouseDown={(e) => {\n                      handleDelete(e, index);\n                    }}\n                    icon=\"times-circle\"\n                    size=\"1x\"\n                    className=\"resume_delete_btn\"\n                  />\n                  <ContentInfo\n                    type={item.type}\n                    onChange={(valNode) =>\n                      handleContent(item.type, index, valNode)\n                    }\n                    content={content[index].content}\n                    handleSelectMouseUp={(e) => getSelectionMessage(e)}\n                    onDrop={(e) => handleDrop(e, index)}\n                  />\n                </div>\n              </DragSortCom>\n            );\n          })}\n          <div id=\"anchorEnd\" style={{ visibility: \"hidden\" }}>\n            通过锚点方式配合scrollIntoView实现平滑向下滚动\n          </div>\n        </div>\n        <div className=\"preview_wrapper\">\n          <div className=\"btn_preview\">\n            <Link to=\"/resume/preview\">\n              <Button btnType=\"primary\">预览</Button>\n            </Link>\n            <br />\n            <Link to=\"/resume/preview?id=0\">\n               <Button btnType=\"primary\">幻灯片预览</Button>\n            </Link>\n            <br />\n            <Button btnType=\"primary\" onClick={() => setContent([])}>\n              清空\n            </Button>\n          </div>\n          <div>\n            操作面板\n            <br />\n            {colorPicker.map((el) => (\n              <Button\n                key={el.id}\n                onClick={() => handleStyle(\"color\", el.color)}\n              >\n                {el.name}\n              </Button>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Index;\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}"],"sourceRoot":""}